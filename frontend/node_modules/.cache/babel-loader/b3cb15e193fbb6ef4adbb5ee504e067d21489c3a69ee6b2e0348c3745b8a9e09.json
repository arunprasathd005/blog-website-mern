{"ast":null,"code":"// import ReactQuill from \"react-quill\";\n// import 'react-quill/dist/quill.snow.css';\n// import {useState} from \"react\";\n// import {Navigate} from \"react-router-dom\";\n// import Editor from \"../pages/Editor\";\n\n// export default function CreatePost() {\n//   const [title, setTitle] = useState('');\n//   const [summary, setSummary] = useState('');\n//   const [content, setContent] = useState('');\n//   const [files, setFiles] = useState('');\n//   const [redirect, setRedirect] = useState(false);\n\n//   async function createNewPost(ev) {\n\n//     // Check if file is selected\n//     if (!files[0]) {\n//       alert('Please select a file to upload.');\n//       return;\n//     }\n\n//     const data = new FormData();\n//     data.set('title', title);\n//     data.set('summary', summary);\n//     data.set('content', content);\n//     data.set('file', files[0]);  // Ensure file exists\n//     ev.preventDefault();\n//     const response = await fetch('http://localhost:4000/post', {\n//       method: 'POST',\n//       body: data,\n//       credentials: 'include',\n//     });\n\n//     if (response.ok) {\n//       setRedirect(true);\n//     } else {\n//       alert('Failed to create post. Please try again.');\n//     }\n//   }\n\n//   if (redirect) {\n//     return <Navigate to={'/'} />;\n//   }\n\n//   return (\n//     <form onSubmit={createNewPost}>\n//       <input \n//         type=\"text\" \n//         placeholder=\"Title\" \n//         value={title} \n//         onChange={ev => setTitle(ev.target.value)} \n//       />\n//       <input \n//         type=\"text\" \n//         placeholder=\"Summary\" \n//         value={summary} \n//         onChange={ev => setSummary(ev.target.value)} \n//       />\n//       <input \n//         type=\"file\" \n//         onChange={ev => setFiles(ev.target.files)} \n//       />\n//       <Editor value={content} onChange={setContent} />\n//       <button style={{ marginTop: '5px' }}>Create post</button>\n//     </form>\n//   );\n// }","map":{"version":3,"names":[],"sources":["E:/mern stack/blog app mern/frontend/src/pages/CreatePost.js"],"sourcesContent":["// import ReactQuill from \"react-quill\";\r\n// import 'react-quill/dist/quill.snow.css';\r\n// import {useState} from \"react\";\r\n// import {Navigate} from \"react-router-dom\";\r\n// import Editor from \"../pages/Editor\";\r\n\r\n// export default function CreatePost() {\r\n//   const [title, setTitle] = useState('');\r\n//   const [summary, setSummary] = useState('');\r\n//   const [content, setContent] = useState('');\r\n//   const [files, setFiles] = useState('');\r\n//   const [redirect, setRedirect] = useState(false);\r\n\r\n//   async function createNewPost(ev) {\r\n    \r\n    \r\n//     // Check if file is selected\r\n//     if (!files[0]) {\r\n//       alert('Please select a file to upload.');\r\n//       return;\r\n//     }\r\n\r\n//     const data = new FormData();\r\n//     data.set('title', title);\r\n//     data.set('summary', summary);\r\n//     data.set('content', content);\r\n//     data.set('file', files[0]);  // Ensure file exists\r\n//     ev.preventDefault();\r\n//     const response = await fetch('http://localhost:4000/post', {\r\n//       method: 'POST',\r\n//       body: data,\r\n//       credentials: 'include',\r\n//     });\r\n\r\n//     if (response.ok) {\r\n//       setRedirect(true);\r\n//     } else {\r\n//       alert('Failed to create post. Please try again.');\r\n//     }\r\n//   }\r\n\r\n//   if (redirect) {\r\n//     return <Navigate to={'/'} />;\r\n//   }\r\n\r\n//   return (\r\n//     <form onSubmit={createNewPost}>\r\n//       <input \r\n//         type=\"text\" \r\n//         placeholder=\"Title\" \r\n//         value={title} \r\n//         onChange={ev => setTitle(ev.target.value)} \r\n//       />\r\n//       <input \r\n//         type=\"text\" \r\n//         placeholder=\"Summary\" \r\n//         value={summary} \r\n//         onChange={ev => setSummary(ev.target.value)} \r\n//       />\r\n//       <input \r\n//         type=\"file\" \r\n//         onChange={ev => setFiles(ev.target.files)} \r\n//       />\r\n//       <Editor value={content} onChange={setContent} />\r\n//       <button style={{ marginTop: '5px' }}>Create post</button>\r\n//     </form>\r\n//   );\r\n// }\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}